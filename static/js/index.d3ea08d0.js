(()=>{"use strict";var e,t,a,s,i={974:function(e,t,a){var s=a(848),i=a(540);a(338).createRoot(document.getElementById("root")).render((0,s.jsx)(function(){let[e,t]=(0,i.useState)([]),[a,r]=(0,i.useState)([]),[l,o]=(0,i.useState)("popularity.desc"),[n,c]=(0,i.useState)(1),[d,h]=(0,i.useState)(""),[v,u]=(0,i.useState)(!0),[p,x]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{u(!0),x("");try{let e=[];for(let t=1;t<=20;t++){let a=await fetch(`https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page=${t}&sort_by=${l}`,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZmRhODcxYjQyNDMyYmI2ODc4YWEyNzllYTViZTY4MiIsIm5iZiI6MTc1OTE3MjU2OS44NDQsInN1YiI6IjY4ZGFkN2Q5MDZkYzgwN2Y1OGUxY2UxMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.391-hvYaEb291qzlHaHnsH5DicFd8_34a2KLzjH77zg",Accept:"application/json"}});if(!a.ok)throw Error(`TMDb API Error: ${a.status} ${a.statusText}`);let s=await a.json();if(Array.isArray(s.results)&&e.push(...s.results),t>=s.total_pages)break}t(e)}catch(e){x("Failed to load movies. Please try again later."),console.error(e)}finally{u(!1)}})()},[l]),(0,i.useEffect)(()=>{if(d.trim()){let t=d.toLowerCase();r(e.filter(e=>e.title&&e.title.toLowerCase().includes(t)))}else r(e);c(1)},[d,e]);let m=(0,i.useMemo)(()=>Math.max(1,Math.ceil(a.length/20)),[a.length]),j=(0,i.useMemo)(()=>{let e=(n-1)*20;return a.slice(e,e+20)},[a,n]);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{id:"title",children:"Movie Explorer"}),(0,s.jsxs)("div",{className:"filtering",children:[(0,s.jsx)("div",{className:"searchContainer",children:(0,s.jsx)("input",{type:"text",placeholder:"Search for a movie...",value:d,onChange:e=>h(e.target.value)})}),(0,s.jsx)("div",{className:"sortContainer",children:(0,s.jsxs)("select",{id:"sortMovies",value:l,onChange:e=>o(e.target.value),children:[(0,s.jsx)("option",{value:"popularity.desc",children:"Sort By"}),(0,s.jsx)("option",{value:"release_date.asc",children:"Release Date (asc)"}),(0,s.jsx)("option",{value:"release_date.desc",children:"Release Date (desc)"}),(0,s.jsx)("option",{value:"vote_average.asc",children:"Rating (asc)"}),(0,s.jsx)("option",{value:"vote_average.desc",children:"Rating (desc)"})]})})]}),(0,s.jsxs)("div",{id:"moviesRoot",children:[v&&(0,s.jsx)("p",{children:"Loading movies..."}),p&&(0,s.jsx)("p",{children:p}),!v&&!p&&0===j.length&&(0,s.jsx)("p",{children:"No movies found."}),!v&&!p&&j.map(e=>(0,s.jsxs)("div",{className:"movieContainer",children:[(0,s.jsx)("img",{className:"moviePoster",src:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/200x300?text=No+Image",alt:e.title||"Untitled"}),(0,s.jsx)("h2",{className:"movieTitle",children:e.title||"Untitled"}),(0,s.jsxs)("p",{className:"movieDate",children:["Release Date: ",e.release_date||"N/A"]}),(0,s.jsxs)("p",{className:"movieRating",children:["Rating:"," ",e.vote_average||0===e.vote_average?e.vote_average:"N/A"]})]},e.id))]}),(0,s.jsxs)("div",{className:"navigation",children:[(0,s.jsx)("button",{onClick:()=>{n>1&&c(e=>e-1)},disabled:n<=1,children:"Previous"}),(0,s.jsxs)("span",{id:"pageNumber",children:[" Page ",n," "]}),(0,s.jsxs)("span",{id:"totalPages",children:[" of ",m," "]}),(0,s.jsx)("button",{onClick:()=>{n<m&&c(e=>e+1)},disabled:n>=m,children:"Next"})]})]})},{}))}},r={};function l(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return i[e](a,a.exports,l),a.exports}l.m=i,l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=[],l.O=(t,a,s,i)=>{if(a){i=i||0;for(var r=e.length;r>0&&e[r-1][2]>i;r--)e[r]=e[r-1];e[r]=[a,s,i];return}for(var o=1/0,r=0;r<e.length;r++){for(var[a,s,i]=e[r],n=!0,c=0;c<a.length;c++)(!1&i||o>=i)&&Object.keys(l.O).every(e=>l.O[e](a[c]))?a.splice(c--,1):(n=!1,i<o&&(o=i));if(n){e.splice(r--,1);var d=s();void 0!==d&&(t=d)}}return t},t={410:0},l.O.j=e=>0===t[e],a=(e,a)=>{var s,i,[r,o,n]=a,c=0;if(r.some(e=>0!==t[e])){for(s in o)l.o(o,s)&&(l.m[s]=o[s]);if(n)var d=n(l)}for(e&&e(a);c<r.length;c++)i=r[c],l.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return l.O(d)},(s=self.webpackChunkproj3=self.webpackChunkproj3||[]).forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s));var o=l.O(void 0,["783"],function(){return l(974)});o=l.O(o)})();